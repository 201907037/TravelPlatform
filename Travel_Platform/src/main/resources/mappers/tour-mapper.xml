<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >

<!-- 유진 - tour-mapper.xml 파일 생성 (2024.06.10) -->
<mapper namespace="tourMapper">
	
	<resultMap id="tourResultSet" 
			   type="tour">
		<result column="TOUR_NO" property="tourNo" />
		<result column="TOUR_NAME" property="tourName" />
		<result column="ADDRESS" property="address" />
		<result column="ADD_DATE" property="addDate" />
		<result column="CONTENT_ID" property="contentId" />
		<result column="THUMB_IMG" property="thumbImg" />
		<result column="MAP_X" property="mapX" />
		<result column="MAP_Y" property="mapY" />
		<result column="TOUR_TYPE" property="tourType" />
		<result column="STATUS" property="status" />
		<result column="REF_AREA" property="refArea" />
		<result column="REF_CITY" property="refCity" />
	</resultMap>
	
	<!-- City VO 매퍼 -->
	<resultMap type="city" id="resultSetCity">
		<result column="SIGUNGU_CODE_NO" property="sigunguCodeNo"/>
		<result column="SIGUNGU_CODE" property="sigunguCode"/>
		<result column="SIGUNGU_NAME" property="sigunguName"/>
		<result column="REF_LCODE" property="refLcode"/>
	</resultMap>
	
	<!-- 유진 - 관리자 여행지 목록 조회 쿼리문 (2024.06.10) -->
	<select id="adminTourList" 
			resultMap="tourResultSet">
		SELECT TOUR_NAME, 
			   TOUR_TYPE, 
			   ADDRESS, 
			   CONTENT_ID, 
			   ADD_DATE 
		  FROM TOUR 
		 WHERE STATUS= 'Y'
	</select>
	<!-- 김동현 -도시 목록 조회 쿼리문(2024.06.10) -->
	<select id="selectCity"
			parameterType="_int"
			resultMap="resultSetCity">
	SELECT *
	FROM CITY
	WHERE REF_LCODE = #{code}
	</select>
</mapper>