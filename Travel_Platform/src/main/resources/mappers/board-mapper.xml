<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="boardMapper">

 <resultMap type="board" id="boardResultSet">
 	<result column="BOARD_NO" property="boardNo"/>
 	<result column="BOARD_TITLE" property="boardTitle"/>
 	<result column="BOARD_CONTENT" property="boardContent"/>
 	<result column="CREATE_DATE" property="createDate"/>
 	<result column="COUNT" property="count"/>
 	<result column="STATUS" property="status"/>
 	<result column="USER_NO" property="userNo"/>
 
 </resultMap>
 
  <resultMap type="boardImg" id="boardImgResultSet">
 	<result column="IMG_NO" property="imgNo"/>
 	<result column="CHANGE_NAME" property="changeName"/>
 	<result column="FILE_LEVEL" property="fileLevel"/>
 	<result column="STATUS" property="status"/>
 	<result column="BOARD_NO" property="boardNo"/>
 	
 </resultMap>
 
 
<insert id="insertBoard"
		parameterType="board">
INSERT INTO BOARD (BOARD_NO,
                   BOARD_TITLE,
                   BOARD_CONTENT,
                   USER_NO)
               VALUES (SEQ_BOARD_NO.NEXTVAL,
                        #{boardTitle},
                        #{boardContent},
                        #{userNo})
</insert>

<insert id="insertBoardImg"
		parameterType="boardImg">
	INSERT INTO BOARD_IMG (IMG_NO,
		                   CHANGE_NAME,
		                   FILE_LEVEL,
		                   BOARD_NO)
		               VALUES (SEQ_BOARD_IMG_NO.NEXTVAL,
		                        #{changeName},
		                        #{fileLevel},
		                        SEQ_BOARD_NO.CURRVAL)
</insert>

<select id="selectListBoard"
		resultMap="boardResultSet">
		SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, 
		TO_CHAR(CREATE_DATE, 'MM/DD') AS CREATE_DATE, COUNT, STATUS, USER_NO
	  FROM BOARD
	 WHERE STATUS = 'Y'
	 ORDER BY BOARD_NO DESC

</select>

<select id="selectListBoardImg"
		resultMap="boardImgResultSet">
		SELECT *
	  FROM BOARD_IMG
	 WHERE STATUS = 'Y'
	 ORDER BY IMG_NO DESC
</select>
	
</mapper>




